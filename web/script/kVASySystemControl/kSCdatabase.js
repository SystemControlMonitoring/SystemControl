var node=urlPara("h"),client=urlPara("c");function Top(b){var a=$.base64.encode(b);$("#TopMenu").append('<table cellpadding=0 cellspacing=0 border=0 id="TopMEnuTable"><tr><td><a href="../">Home</a></td><td><span id="TopMenuIcon" class="ui-icon ui-icon-triangle-1-e"></span></td><td><a href="../hosts.jsp">Hosts</a></td><td><span id="TopMenuIcon" class="ui-icon ui-icon-triangle-1-e"></span></td><td>'+$.base64.decode(urlPara("c"))+"</td></tr></table>");$.Shortcuts.add({type:"down",mask:"s",handler:function(){if($("#Sidebar").is(":hidden")){$("#SidebarSmall").animate({marginRight:"400px"},350).css("zIndex",30);$("#Sidebar").animate({width:"toggle"},350,function(){$("#SidebarContent").fadeIn(100)}).css("zIndex",30);SearchHosts(a+"Jhdu8K")}else{$("#SidebarContent").fadeOut(100);$("#Sidebar").animate({width:"toggle"},350).css("zIndex",30);$("#SidebarSmall").animate({marginRight:"0px"},350).css("zIndex",30)}}}).start();$.Shortcuts.add({type:"down",mask:"r",handler:function(){Reload(b)}}).start();$("#SidebarSubmenu").append('<div id="OracleDBA"><div id="AdminTitle">Administration</div><div id="AdminDivs"></div>\n    <div id="AdminButtons">\n        <button id="ra_button" style="margin-left: 2px; margin-top: 15px;">Reports Archiv</button>\n        <button id="dv_button" style="margin-left: 2px; margin-top: 15px;">Diagnose Verzeichnis</button>\n    </div>\n    </div>');$("#SidebarSubmenu").append('<div id="OracleDBA" style="margin-top: 15px;"><div id="AdminTitle" style="margin-bottom: -15px;">Check Kommandos</div>\n        <div id="AdminDivs">\n            <div id="DivReCheck" title="Erneutes Ausf&uuml;hren von Service Checks - 1 von 2">\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivReCheckObjects"></div>\n            </div>\n            <div id="DivAcknldge" title="Bearbeiten des Service Problems - 1 von 2">\n                <h3>Bitte tragen Sie die zus&auml;tzlichen Informationen ein!</h3>\n                <div id="Author">\n                    <font>Author:</font>\n                    <input type="text" name="author" id="auth1" value="'+b+'" readonly />\n                </div>\n                <div id="Comment">\n                    <font>Kommentar:</font>\n                    <textarea name="comment" id="comm1"></textarea>\n                </div>\n                <!--h3>Soll der Eintrag per Mail an den Kunden verschickt werden? (Mail1,Mail2,Mailn)</h3>\n                <div id="Senden">\n                    <input name="mailingto" type="checkbox" id="send" value="1" onclick="EnableInput(\'#mailaddr\');" />\n                    <input name="mailaddr" id="mailaddr" type="text" value=""/>\n                </div>\n                <h3>Soll der Eintrag f&uuml;r die Servicereports in die Datenbank geschrieben werden?</h3>\n                <div id="Insertto">\n                    <input name="insertto" type="checkbox" id="insertto1" value="1" onclick="EnableInput(\'#insertto2\');" />\n                    <span id="insertto2">Ja!</font>\n                </div-->\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivAcknldgeObjects"></div>\n            </div>\n            <div id="DivComment" title="Kommentieren des Service Problems - 1 von 2">\n                <h3>Bitte tragen Sie die zus&auml;tzlichen Informationen ein!</h3>\n                <div id="CAuthor">\n                    <font>Author:</font>\n                    <input type="text" name="author" id="Cauth" value="'+b+'" readonly />\n                </div>\n                <div id="CComment">\n                    <font>Kommentar:</font>\n                    <textarea name="comment" id="Ccomm"></textarea>\n                </div>\n                <!--h3>Soll der Eintrag per Mail an den Kunden verschickt werden? (Mail1,Mail2,Mailn)</h3>\n                <div id="CSenden">\n                    <input name="mailingto" type="checkbox" id="Csend" value="1" onclick="EnableInput(\'#Cmailaddr\');" />\n                    <input name="mailaddr" id="Cmailaddr" type="text" value=""/>\n                </div>\n                <h3>Soll der Eintrag f&uuml;r die Servicereports in die Datenbank geschrieben werden?</h3>\n                <div id="CInsertto">\n                    <input name="insertto" type="checkbox" id="Cinsertto1" value="1" onclick="EnableInput(\'#Cinsertto2\');" />\n                    <span id="Cinsertto2">Ja!</font>\n                </div-->\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivCommentObjects"></div>\n            </div>\n\\n            <div id="DivDowntime" title="Downtime eines Service definieren - 1 von 2">\n                <h3>Bitte tragen Sie die zus&auml;tzlichen Informationen ein!</h3>\n                <div id="DAuthor">\n                    <font>Author:</font>\n                    <input type="text" name="author" id="Dauth" value="'+b+'" readonly />\n                </div>\n                <div id="DComment">\n                    <font>Kommentar:</font>\n                    <textarea name="comment" id="Dcomm"></textarea>\n                </div>\n                <div id="DStart">\n                    <font>Beginn:</font>\n                    <input type="text" name="start" id="Dstartts" />\n                </div>\n                <div id="DEnd">\n                    <font>Ende:</font>\n                    <input type="text" name="end" id="Dendts" />\n                </div>\n                <!--h3>Soll der Eintrag per Mail an den Kunden verschickt werden? (Mail1,Mail2,Mailn)</h3>\n                <div id="DSenden">\n                    <input name="mailingto" type="checkbox" id="Dsend" value="1" onclick="EnableInput(\'#Dmailaddr\');" />\n                    <input name="mailaddr" id="Dmailaddr" type="text" value=""/>\n                </div>\n                <h3>Soll der Eintrag f&uuml;r die Servicereports in die Datenbank geschrieben werden?</h3>\n                <div id="DInsertto">\n                    <input name="insertto" type="checkbox" id="Dinsertto1" value="1" onclick="EnableInput(\'#Dinsertto2\');" />\n                    <span id="Dinsertto2">Ja!</font>\n                </div-->\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivDowntimeObjects"></div>\n            </div>\n            <div id="DivNotify" title="Benachrichtigung der Service Checks deaktivieren - 1 von 2">\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivNotifyObjects"></div>\n            </div>\n            <div id="DivEnNotify" title="Benachrichtigung der Service Checks aktivieren - 1 von 2">\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivEnNotifyObjects"></div>\n            </div>\n            <div id="DivRemAck" title="Service Problem wieder freigeben - 1 von 2">\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivRemAckObjects"></div>\n            </div>\n            <div id="DivRemDwntm" title="Downtime eines Service l&ouml;schen - 1 von 2">\n                <h3>Es betrifft folgende konfigurierte Checks:</h3>\n                <div id="DivRemDwntmObjects"></div>\n            </div>\n            <div id="DivDelLog" title="Leeren eines Logfiles - 1 von 2">\n                <h3>Sie f&uuml;hren das Leeren des Logfiles durch.</h3>\n                <div id="DivDelLogObjects"></div>\n            </div>\n        </div>\n        <div id="AdminButtons">\n            <span id="LogfileButtons"></span><br>\n            <button id="ba_button" style="margin-left: 2px; margin-top: 10px;" title="Problem bearbeiten.">Pr. Bearbeiten</button>\n            <button id="fr_button" style="margin-left: 2px; margin-top: 10px;" title="Problem freigeben.">Pr. Freigeben</button>\n            <button id="ne_button" style="margin-left: 2px; margin-top: 10px;" title="Benachrichtigungen aktivieren.">Ben. +</button>\n            <button id="ny_button" style="margin-left: 2px; margin-top: 10px;" title="Benachrichtigungen deaktivieren.">Ben. -</button>\n            <button id="rc_button" style="margin-left: 2px; margin-top: 10px;">Re-Check</button>\n            <button id="ko_button" style="margin-left: 2px; margin-top: 10px;">Kommentieren</button>\n            <button id="dd_button" style="margin-left: 2px; margin-top: 10px;" title="Downtime l&ouml;schen.">Downtime -</button>\n            <button id="do_button" style="margin-left: 2px; margin-top: 10px;" title="Downtime festlegen.">Downtime +</button>\n            <button id="dl_button" style="margin-left: 2px; margin-top: 10px;" title="Logfile leeren.">Del. Log</button>\n        </div>\n    </div>');$.datepicker.regional.de={closeText:"Schlie&szlig;en",prevText:"Zur&uuml;ck",nextText:"Weiter",currentText:"Jetzt",monthNames:["Januar","Februar","M&auml;rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","M&auml;r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Diensag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"Wo",dateFormat:"yy-mm-dd",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};$.datepicker.setDefaults($.datepicker.regional.de);$.timepicker.regional.de={timeOnlyTitle:"Uhrzeit ausw&auml;hlen",timeText:"Zeit",hourText:"Stunde",minuteText:"Minute",secondText:"Sekunde",currentText:"Jetzt",timeFormat:"HH:mm:ss",closeText:"Ausw&auml;hlen",ampm:false};$.timepicker.setDefaults($.timepicker.regional.de);$("#Dstartts").datetimepicker();$("#Dendts").datetimepicker();$("#dl_button").button().css("border","1px solid #004279").click(function(){var c="",b="",d=$("form#SearchService").serializeArray();$("#DivDelLogObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(d,function(){if(this.name!="s"){c+=this.name+";";b+=this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivDelLog").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){$("body").append('<img id="ajax-loader" title="Leeren des Logfiles." src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Leeren des Logfiles.</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/clientdirect/json/?e=1&m=U3J2TG9nQWRtaW4=KhdU8Z&c="+$.base64.encode(c)+"KjHu8U&log="+b+"&u="+a+"U7g7ZZ&cm=REVMT0c=IZK88i",timeout:3.6e6,success:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Leeren des Logfiles - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Logfiles wurden <b>erfolgreich</b> geleert.</p>');$("#success").dialog({autoOpen:true,height:200,width:500,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivReCheckObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Leeren von Logfiles");$("#DivReCheckObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivReCheckObjects").html("")}}})});$("#rc_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivReCheckObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivReCheck").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){$("body").append('<img id="ajax-loader" title="Erneutes Ausf&uuml;hren von Service Checks" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Erneutes Ausf&uuml;hren von Service Checks</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=UmVDaGVjaw==KlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Erneutes Ausf&uuml;hren von Service Checks - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Service Checks wurden <b>erfolgreich</b> ausgef\u00fchrt.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivReCheckObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Erneutes Ausf\u00fchren von Service Checks");$("#DivReCheckObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivReCheckObjects").html("")}}})});$("#ba_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivAcknldgeObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivAcknldge").dialog({autoOpen:true,height:700,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){var d=$("#auth1").attr("value"),c=$("#comm1").attr("value");$("body").append('<img id="ajax-loader" title="Bearbeiten des Service Problems" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Bearbeiten des Service Problems</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=QWNrU3ZjKlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ&ar="+$.base64.encode(d)+"U7g7ZZ&cm="+$.base64.encode(c)+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Bearbeiten des Service Problems - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Service Probleme wurden <b>erfolgreich</b> bearbeitet.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivAcknldgeObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Bearbeiten des Service Problems");$("#DivAcknldgeObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivAcknldgeObjects").html("")}}})});$("#fr_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivRemAckObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivRemAck").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){var d=$("#auth1").attr("value"),c=$("#comm1").attr("value");$("body").append('<img id="ajax-loader" title="Service Problem wieder freigeben" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Service Problem wieder freigeben</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=UmVtQWNrU3ZjKlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Service Problem wieder freigeben - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Service Probleme wurden <b>erfolgreich</b> freigegeben.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivRemAckObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Service Problem wieder freigeben.");$("#DivRemAckObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivRemAckObjects").html("")}}})});$("#ko_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivCommentObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivComment").dialog({autoOpen:true,height:700,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){var d=$("#Cauth").attr("value"),c=$("#Ccomm").attr("value");$("body").append('<img id="ajax-loader" title="Kommentieren des Service" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Kommentieren des Service</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=Q29tU3ZjKlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ&ar="+$.base64.encode(d)+"U7g7ZZ&cm="+$.base64.encode(c)+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Kommentieren des Service - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Services wurden <b>erfolgreich</b> kommentiert.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:500,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivCommentObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Kommentieren des Service.");$("#DivCommentObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivCommentObjects").html("")}}})});$("#do_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivDowntimeObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivDowntime").dialog({autoOpen:true,height:700,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){var f=$("#Dauth").attr("value"),d=$("#Dcomm").attr("value"),c=$("#Dstartts").attr("value"),e=$("#Dendts").attr("value");$("body").append('<img id="ajax-loader" title="Downtime eines Service definieren" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Downtime eines Service definieren</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=RHdudG1TdmM=KlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ&ar="+$.base64.encode(f)+"U7g7ZZ&cm="+$.base64.encode(d)+"U7g7ZZ&ds="+c+"&de="+e,timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Downtime eines Service definieren - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Downtime der Services wurden <b>erfolgreich</b> definiert.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:500,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivDowntimeObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Kommentieren des Service.");$("#DivDowntimeObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivDowntimeObjects").html("")}}})});$("#dd_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivRemDwntmObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivRemDwntm").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){var f=$("#Dauth").attr("value"),d=$("#Dcomm").attr("value"),c=$("#Dstartts").attr("value"),e=$("#Dendts").attr("value");$("body").append('<img id="ajax-loader" title="Downtime eines Service l&ouml;schen" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Downtime eines Service l&ouml;schen</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=UmVtRHdudG1TdmM=KlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Downtime eines Service l&ouml;schen - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Downtime der Services wurden <b>erfolgreich</b> gel&ouml;scht.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivRemDwntmObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Downtime eines Service l&ouml;schen.");$("#DivRemDwntmObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivRemDwntmObjects").html("")}}})});$("#ny_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivNotifyObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivNotify").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){$("body").append('<img id="ajax-loader" title="Benachrichtigung der Service Checks deaktivieren" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Benachrichtigung der Service Checks deaktivieren</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=RGVhY05vdFN2Yw==KlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Benachrichtigung der Service Checks deaktivieren - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Benachrichtgungen der Service Checks wurden <b>erfolgreich</b> deaktiviert.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivNotifyObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Erneutes Ausf\u00fchren von Service Checks");$("#DivNotifyObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivNotifyObjects").html("")}}})});$("#ne_button").button().css("border","1px solid #004279").click(function(){var b="",c=$("form#SearchService").serializeArray();$("#DivEnNotifyObjects").html('<table id="DivReCheckTable"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th></tr></thead></table>');$.each(c,function(){if(this.name!="s"){b+=this.name+"@"+this.value+";";$("#DivReCheckTable").append("<tr><td>"+this.name+"</td><td>"+this.value+"</td></tr>")}});$("#DivEnNotify").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{Ausf\u00fchren:function(){$("body").append('<img id="ajax-loader" title="Benachrichtigung der Service Checks aktivieren" src="layout/images/ajax-loader.gif"><div id="ajax-loader-div">Benachrichtigung der Service Checks aktivieren</div>');$(this).dialog("close");$.ajax({url:"http://"+Backend+"/commands/json/?e=1&m=QWNOb3RTdmM=KlU76T&c="+$.base64.encode(b)+"KjHu8U&u="+a+"U7g7ZZ",timeout:3.6e6,success:function(a){$("#ajax-loader").remove();$("#ajax-loader-div").remove();$("body").append('<div id="success" title="Benachrichtigung der Service Checks aktivieren - 2 von 2"><p><span class="ui-icon ui-icon-circle-check" style="float: left; margin: 0 7px;"></span>Benachrichtgungen der Service Checks wurden <b>erfolgreich</b> aktiviert.</p><br><table id="DivReCheckTablePost"><thead><tr><th>Host @ Monitoringnode</th><th>Check Name</th><th>Timestamp</th></tr></thead></table>');$.each(a,function(){$("#DivReCheckTablePost").append("<tr><td>"+this.HOST_NAME+"@"+this.NODE+"</td><td>"+this.SERVICE_NAME+"</td><td>"+this.TS+"</td></tr>")});$("#success").dialog({autoOpen:true,height:300,width:750,draggable:false,resizable:false,modal:true,buttons:{OK:function(){$(this).dialog("close");$("#success").remove();$("#DivEnNotifyObjects").html("")}}})},error:function(){$("#ajax-loader").remove();$("#ajax-loader-div").remove();alert("FEHLER BEI AUSF\u00dcHRUNG: Benachrichtigung der Service Checks aktivieren");$("#DivEnNotifyObjects").html("")},dataType:"json",cache:false})},Abbrechen:function(){$(this).dialog("close");$("#DivEnNotifyObjects").html("")}}})});$("#ra_button").button().css("border","1px solid #004279").click(function(){window.open("http://"+$.base64.decode(urlPara("c"))+":6555/reports/","_blank")});$("#dv_button").button().css("border","1px solid #004279").click(function(){window.open("http://"+$.base64.decode(urlPara("c"))+":6555/diag/","_blank")})}function Reload(a){$("#theme-roller").append('<img id="AjaxLoader" src="../layout/images/ajax-loader.gif">');SysInfo(a);SrvInfo(a);DbInfo(a);HostInformations(a)}function SysInfo(d){var a=$.base64.encode(d),c=urlPara("h"),b=urlPara("c");$.ajax({url:"http://"+Backend+"/clientdirect/json/?e=1&m=U1lTSU5GTw==Jkd873&h="+c+"Hqu8zd&c="+b+"Jjd723&u="+a+"KjdUE8",crossDomain:true,success:function(d){$("section","#SubCenter").html('<a href="sysinfo.jsp?h='+c+"&c="+b+"&t="+$.base64.encode(d.TYPE)+'" class="ticker" title=""><span class="hname"></span><br></br><font class="os"></font><br></br><font class="subcontent" id="cpu"></font><br><font class="subcontent" id="ram"></font><br><font class="subcontent" id="startup"></font></a>');$.each(d,function(b,a){if(b=="HOSTNAME")$(".hname").append("H: "+a+"");else if(b=="OS")$(".os").append(""+a+"");else if(b=="CPU")$("#cpu").append("CPU: "+a+"");else if(b=="RAM")$("#ram").append("RAM: "+a+"");else b=="STARTUP"&&$("#startup").append("Startup: "+a+"")});DbInfo(a)},dataType:"json",cache:false})}function DbInfo(d){var c=d,b=urlPara("h"),a=urlPara("c");$.ajax({url:"http://"+Backend+"/clientdirect/json/?e=1&m=REJJTkZPJkd873&h="+b+"Hqu8zd&c="+a+"Jjd723&u="+c+"KjdUE8",crossDomain:true,success:function(d){var c=0;$.each(d,function(){$("section","#SubCenter").append('<a href="oracle_database.jsp?h='+b+"&c="+a+"&db="+$.base64.encode(this.DBNAME)+'" class="ticker" title=""><span class="dbname'+c+'"></span><br></br><font class="dbversion'+c+'"></font><br></br><font class="subcontent" id="dbarchiver'+c+'"></font><br><font class="subcontent" id="dbstat'+c+'"></font><br><font class="subcontent" id="dbblocked'+c+'"></font><br><font class="subcontent" id="dbstartup'+c+'"></font><br><font class="subcontent" id="dbdbstatus'+c+'"></font><br><font class="subcontent" id="dbactive_status'+c+'"></font><br><font class="subcontent" id="dblogins'+c+'"></font><br><font class="subcontent" id="dbrole'+c+'"></font><br></a>');$(".dbname"+c).append("DB: "+this.DBNAME);$(".dbversion"+c).append(this.VERSION);$("#dbarchiver"+c).append("Archiver: "+this.ARCHIVER);$("#dbstat"+c).append("Status: "+this.STATUS);$("#dbblocked"+c).append("Blocked: "+this.BLOCKED);$("#dbstartup"+c).append("Startup: "+this.STARTUP);$("#dbdbstatus"+c).append("DB Status: "+this.DBSTATUS);$("#dbactive_status"+c).append("Active Status: "+this.ACTIVE_STATUS);$("#dblogins"+c).append("Logins: "+this.LOGINS);$("#dbrole"+c).append("Role: "+this.ROLE);c++});$("#AjaxLoader").remove()},dataType:"json",cache:false})}function SrvInfo(c){var d=$.base64.encode(c),b=urlPara("h"),a=urlPara("c");$.ajax({url:"http://"+Backend+"/clientdirect/json/?e=1&m=U2VydmljZUhvc3RMaXN0KhdU8Z&h="+b+"Hqu8zd&c="+a+"Jjd723&u="+d+"KjdUE8",crossDomain:true,success:function(e){var d=0;$("#HostServices").html('<div id="CheckBoxAll"><input type="checkbox" id="CheckAllCheckboxes" onclick="CheckAll(\''+c+'\');"/></div><div id="HeadHostSrvList"><span>Service Name</span><span>Output</span></div><div id="HostSrvList"></div>');$.each(e,function(){var c;if(this.SERVICE_STATUS=="1")c="taovwa";else if(this.SERVICE_STATUS=="2")c="taovcr";else if(this.SERVICE_STATUS=="3")c="taovun";else c="taovok";if(this.SERVICE_NAME==""){c="taovcr";this.SERVICE_NAME="HOST"}$("#HostSrvList").append('<div id="CheckBoxTable"><input type="checkbox" name="'+$.base64.decode(a)+"@"+$.base64.decode(b)+'" value="'+this.SERVICE_NAME+'" id="" /></div><table class="'+c+'" cellpadding=0 cellspacing=0><tr><td><img id="ImgServiceStatusHl" src="../'+this.SERVICE_STATUS_ICON+'" /></td><td>'+this.SERVICE_NAME+"</td><td>"+this.OUTPUT+"</td><td>Zuletzt gepr&uuml;ft "+this.LAST_CHECK_ISO+"</td></tr></table>");d++});$("#FooterHostSrvList").html(d+" Services")},dataType:"json",cache:false})}function HostInformations(d){var b=$.base64.encode(d),a=urlPara("h"),c=urlPara("c");$.ajax({url:"http://"+Backend+"/clientdirect/json/?e=1&m=SG9zdFN1bW1hcnk=KhdU8Z&h="+a+"Hqu8zd&c="+c+"Jjd723&u="+b+"KjdUE8",crossDomain:true,success:function(b){$("#HostSummary").html('<div id="DivHostSummary"></div>');$("#HostStatus").html('<div id="DivHostStatus"></div>');$("#DivHostStatus").append('<img id="HostTypeIcon" src="../'+b.ICON+'" /><span id="HostTypeDesc">'+b.DESC+"</span>");if(b.STATE=="0")$("#DivHostStatus").append('<span id="HostTypeState">ONLINE</span>');else $("#DivHostStatus").append('<span id="HostTypeState">OFFLINE</span>');$("#DivHostStatus").append('<span id="HostTypeAgent">Agent Version '+b.AGENT_VERSION+"</span>");$("#DivHostStatus").append('<span id="HostTypeAgentEt">Ausf&uuml;hrungszeit '+b.EXEC_TIME+"</span>");$("#DivHostStatus").append('<span id="HostTypeStartup">Gestartet: '+b.STARTUP+"</span>");$("#DivHostStatus").append('<span id="HostTypeUptime">Aktiv seit: '+b.UPTIME+"</span>");$("#DivHostSummary").append('<span id="HostSumName"><font>Konfigurierter Host-Name:</font> '+b.NAME+"</span>");$("#DivHostSummary").append('<span id="HostSumNode"><font>Monitoringnode:</font> '+$.base64.decode(a)+"</span>");$("#DivHostSummary").append('<span id="HostSumIP"><font>IPv4:</font> '+b.ADDRESS+"</span>");$("#DivHostSummary").append('<span id="HostSumLSt"><font>Zuletzt gepr&uuml;ft:</font><br>'+b.LAST_CHECK_ISO+"</span>");$("#DivHostSummary").append('<span id="HostSumNSt"><font>N&auml;chste Pr&uuml;fung:</font><br>'+b.NEXT_CHECK_ISO+"</span>");$("#DivHostSummary").append('<span id="HostSumHgp"><font>Mitglied folgender Hostgruppen:</font><br>'+b.HOSTGROUPS+"</span>");$("#DivHostSummary").append('<div id="HostSumLocalAccess"><span style="float: left;">Konsolen Zug&auml;nge</span><span style="float: left; margin-top: -1px;" class="ui-icon ui-icon-triangle-1-e"></span></div>');var d="default",c="default",g="default",f="default",e="default";if(b.SRV_OK!=0)d=" ok";if(b.SRV_CR!=0)c=" cr";if(b.SRV_UN!=0)f=" un";if(b.SRV_WA!=0)g=" wa";if(b.SRV_PE!=0)e=" pe";$("#DivHostStatus").append('<div id="HostSumServices"><table cellpadding=0 cellspacing=0 border=0><tr><td colspan=3><span style="float: left;">Services</span><span style="float: left; margin-top: -1px;" class="ui-icon ui-icon-triangle-1-s"></span></td></tr><tr valign=middle><td class="'+d+'"><b><a href="/monitoring.chtml?view=3&status=0">'+b.SRV_OK+'</a></b> Ok</td><td class="'+g+'"><b><a href="/monitoring.chtml?view=3&status=6">'+b.SRV_WA+'</a></b> Warnung</td><td class="'+c+'"><b><a href="/monitoring.chtml?view=3&status=6">'+b.SRV_CR+'</a></b> Kritisch</td><td class="'+f+'"><b><a href="/monitoring.chtml?view=3&status=8">'+b.SRV_UN+'</a></b> Unbekannt</td><td class="'+e+'"><b><a href="/monitoring.chtml?view=3&status=0">'+b.SRV_PE+"</a></b> Ausstehend</td></tr></table></div>")},dataType:"json",cache:false})}function CheckAll(b){var a=$.base64.encode(b);if($("#CheckAllCheckboxes").is(":checked")){$("form#SearchService").find(":checkbox").attr("checked","checked");if($("#Sidebar").is(":hidden")){$("#SidebarSmall").animate({marginRight:"400px"},350).css("zIndex",30);$("#Sidebar").animate({width:"toggle"},350,function(){$("#SidebarContent").fadeIn(100)}).css("zIndex",30);SearchHosts(a+"Jhdu8K")}}else if($("#Sidebar").is(":hidden"))$("form#SearchService").find(":checkbox").removeAttr("checked");else{$("form#SearchService").find(":checkbox").removeAttr("checked");$("#SidebarContent").fadeOut(100);$("#Sidebar").animate({width:"toggle"},350).css("zIndex",30);$("#SidebarSmall").animate({marginRight:"0px"},350).css("zIndex",30)}}